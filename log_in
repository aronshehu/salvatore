login_credentials = {
    "alice": "123",
    "bob": "abc",
    "david": "999"
}

def verify_login(credentials, username, password):
    if username not in credentials:
        print("User not found")
        return False
    elif credentials[username] != password:
        print("Incorrect password")
        return False
    else:
        print("Login successful")
        return True


attempts = 3

while attempts > 0:
    user = input("Enter username: ")
    pwd = input("Enter password: ")

    if verify_login(login_credentials, user, pwd):
        break
    else:
        attempts -= 1
        print("Attempts left:", attempts)

if attempts == 0:
    print("Too many failed attempts. Access blocked")
    exit()


user_accounts = {
    "alice": {"password": "1234", "role": "admin"},
    "bob": {"password": "abcd", "role": "user"},
    "david": {"password": "9999", "role": "user"}
}

def authorize_user(accounts, username, password):
    if username in accounts and accounts[username]["password"] == password:
        return accounts[username]["role"]
    return None


username = input("\nEnter username for authorization: ")
password = input("Enter password: ")

role = authorize_user(user_accounts, username, password)

if role is None:
    print("Authentication failed. Access not authorized")
    exit()
else:
    print(f"Authentication successful. Role assigned: {role}")

if role == "admin":
    print("\nAdmin access granted")

    target_user = input("Enter username to reset password: ")

    if target_user in user_accounts:
        new_password = input("Enter new password: ")
        user_accounts[target_user]["password"] = new_password
        print(f"Password successfully updated for user: {target_user}")
    else:
        print("User not found")
